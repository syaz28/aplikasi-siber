# üöî SISTEM LAPORAN KEJAHATAN SIBER - POLDA JATENG

## PROJECT OVERVIEW
You are assisting in building a cyber crime reporting system for the Central Java Police (POLDA JATENG). This is a Laravel + Vue.js + Inertia.js application with extensive database normalization for analytics and dashboard capabilities.

## TECH STACK
- **Backend:** Laravel 11 (PHP 8.2+)
- **Frontend:** Vue 3 (Composition API) + Inertia.js
- **Database:** MySQL/MariaDB (production) or SQLite (development)
- **Styling:** TailwindCSS 3
- **PDF Generation:** barryvdh/laravel-dompdf
- **Build Tool:** Vite
- **Icons:** Heroicons Vue

## DATABASE ARCHITECTURE (14 Tables)

### Master Data Tables
1. **wilayah** - Indonesian administrative regions (single table, hierarchical codes)
   - Format: '33' (province) ‚Üí '33.74' (city) ‚Üí '33.74.01' (district) ‚Üí '33.74.01.1001' (village)
   - Source: github.com/cahyadsn/wilayah (Kepmendagri standard)

2. **pangkat** - Police ranks (AKBP, KOMPOL, AKP, etc.)
3. **jabatan** - Police positions (Kanit, Penyidik, BA PIKET, etc.)
4. **kategori_kejahatan** - Crime categories (8 categories)
5. **jenis_kejahatan** - Specific crime types (30+ types, belongs to category)

### Core Tables
6. **users** - Authentication (can link to anggota via anggota_id)
7. **anggota** - Police officers/members
8. **orang** - Persons (general: reporters, victims, suspects)
9. **alamat** - Addresses with denormalized wilayah codes for fast queries
10. **laporan** - Crime reports (main entity)
11. **korban** - Victims per report (1:N relation)
12. **tersangka** - Suspects per report (1:N relation)
13. **identitas_tersangka** - Digital identities of suspects (phone, bank account, social media, etc.)
14. **lampiran** - Evidence attachments (images, documents, videos)

## KEY DESIGN PATTERNS

### 1. Reporter ‚â† Victim Pattern
- **orang** table is generic (can be reporter, victim, or suspect)
- **laporan.pelapor_id** ‚Üí person who REPORTS
- **laporan.hubungan_pelapor** ‚Üí relationship (self, family, lawyer, etc.)
- **korban** table ‚Üí person who is VICTIM (1:N relation)
- **Example:** A lawyer reports on behalf of 3 victims = 1 reporter, 3 korban records

### 2. Multi-Identity Suspect Pattern
- **tersangka.orang_id** ‚Üí can be NULL (unidentified suspect)
- **identitas_tersangka** (1:N) ‚Üí multiple digital identities per suspect
- **Example:** 1 suspect has: phone (08123), bank account (BRI 1234), Instagram (@scammer)

### 3. Denormalized Geography for Analytics
- **alamat** table stores: kode_provinsi, kode_kabupaten, kode_kecamatan, kode_kelurahan
- **laporan** table stores: kode_provinsi_kejadian, kode_kabupaten_kejadian, kode_kecamatan_kejadian, kode_kelurahan_kejadian
- **Benefits:** Fast GROUP BY queries for dashboard without complex JOINs

### 4. Suspect Linkage System
- Query identitas_tersangka by `jenis` + `nilai` to find recurring suspects across reports
- Example: Search phone "08123456789" ‚Üí find all reports with this number

## NAMING CONVENTIONS

### Tables & Columns
- **Language:** Bahasa Indonesia for business entities
- **System fields:** English (created_at, updated_at, is_active, etc.)

### Files & Classes
- **Laravel Standard:** PascalCase for classes, snake_case for files
- **Vue:** PascalCase for components

## CODE STYLE PREFERENCES

### PHP/Laravel
- Use **type hints** always
- Use **named routes** (route('laporan.store'))
- Use **Eloquent relationships** over manual joins
- Use **form requests** for validation
- Use **services** for complex business logic

### Vue 3
- Use **Composition API** (not Options API)
- Use **<script setup>** syntax
- Use **Inertia form helpers** for submissions

### TailwindCSS
- Use **utility classes** primarily
- Custom colors: tactical-accent, tactical-success, tactical-danger, tactical-warning, navy

## ANTI-PATTERNS TO AVOID
‚ùå Don't use SELECT * in queries
‚ùå Don't put business logic in controllers
‚ùå Don't hardcode IDs or values
‚ùå Don't skip validation
‚ùå Don't forget CSRF token in forms

Remember: This is a production system for police operations. Precision and data integrity are critical.
